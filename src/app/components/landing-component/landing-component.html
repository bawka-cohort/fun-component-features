<!-- Background and main layout container, similar to signup-component -->
<div class="flex min-h-screen items-center justify-center bg-[#fff7f2] px-6">
  <div class="w-full max-w-xs sm:max-w-sm text-center">
    <!-- Logo Circle with Bite -->
    <img
      src="assets/munch.svg"
      alt="Munch Logo"
      class="mx-auto mb-8 h-28 w-28"
    />

    <!-- Welcome message -->
    <p class="mb-8 text-base text-gray-800 sm:text-sm">Welcome to Munch!</p>
  </div>
</div>

<!-- Top right user menu/icon area -->
<div class="fixed top-4 right-4">
  <div *ngIf="user; else loading" class="relative">
    <!-- User icon to toggle menu -->
    <button
      (click)="isMenuOpen = !isMenuOpen"
      class="flex items-center space-x-2 focus:outline-none"
      aria-label="User menu"
    >
      <img
        [src]="getProfileImage(user)"
        alt="Profile picture"
        width="40"
        height="40"
        class="rounded-full"
      />
    </button>

    <!-- User dropdown menu -->
    <div
      *ngIf="isMenuOpen"
      class="absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-[#fff7f2] ring-1 ring-[#f8746c]/50 focus:outline-none z-10"
    >
      <div class="py-1">
        <div class="px-4 py-2 border-b border-[#f8746c]/30">
          <p class="text-sm font-medium text-[#f8746c]">
            {{ user.user_metadata.full_name || user.email }}
          </p>
        </div>
        <button
          (click)="signOut(); isMenuOpen = false"
          class="block w-full text-left px-4 py-2 text-sm text-[#f8746c] hover:bg-[#f8746c]/20 hover:text-[#b91c1c] transition-colors duration-200"
        >
          Sign Out
        </button>
      </div>
    </div>
  </div>
</div>

<ng-template #loading>
  <p class="fixed top-4 right-4 text-sm text-gray-500">Loading user...</p>
</ng-template>
